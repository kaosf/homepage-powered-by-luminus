<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="content-type" content="text/html" charset="utf-8">
<link rel="stylesheet" href="diary.css" type="text/css">
<title>2007-10</title>
</head>
<body>
<h1 class="diary_month">2007-10</h1>
<hr>
<a href="./" class="diary">戻る</a>
<hr>
<a name="01"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-01T00:00:00 (Mon)</h2>
<h2 class="diary_title">サークルインフォメーション</h2>
<div class="diary_body">
<p class="diary">
来たる11月25日（日曜日）に，東京は台東区，浅草にある都立産業貿易センター台東館にて開催されるローゼンメイデンオンリー同人創作物即売会「<a href="http://nijiket.net/maki/" target="_blank" class="diary">まきますか？まきませんか？６</a>」へのサークル参加に当選しました．…ナニこんなに丁寧な解説してるんだろう？
</p>
<p class="diary">
とりあえず前日の土曜はバイト休み貰わなくちゃね．ギリギリまで作業するとかしないとかじゃなくて，バイト行ってたら出発に間に合わない（夜行高速バスに乗れない）のです．地方（四国・徳島）在住者の辛いところです．
</p>
<p class="diary">
今回も頒布するのはACTゲーム「金糸雀ランド」です．今回こそ完成品を出したいものです．でも画像関連は残りの期間を考えると完璧にするには無理臭い．なんせ一人で作ってるし．もともと絵は上手に描けませんし．外注しないのはなんでかって？一つはコネが無いのと，もう一つは「自分でも出来るだろ」という多大な誤算をしてしまったためです orz
</p></div>
</div>
<a name="02"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-02T00:00:00 (Tue)</h2>
<h2 class="diary_title">拍手レス(02日)</h2>
<div class="diary_body">
<p class="diary">
<font class="clap">9時<br />
&gt;これからもサイト運営を是非頑張って下さい．<br />
</font>
誰だか分かりませんがありがとうございました m(_ _)m　とりあえず何は無くとも日記だけは書いていこうと思います…<br />
句点がピリオドということを考えると，知り合いの中では結構投稿者は絞れるんですが，まきまき６のページにうちへのリンクが掲載されましたからね．知らない人の可能性もあるんですよね．何にせよありがとうございます．
</p></div>
</div>
<a name="05"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-05T00:00:00 (Fri)</h2>
<h2 class="diary_title">僕の好きなこと</h2>
<div class="diary_body">
<p class="diary">
リファクタリング．自分で書いたソースを修正・改良・最適化しているときの方が，何だかとっても楽しい．
</p>
<p class="diary">
…これでいいのか？ダメな気がする orz
</p>
<p class="diary">
ていうか日記書いてる暇がねぇー．
</p></div>
</div>
<a name="07"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-07T00:00:00 (Sun)</h2>
<h2 class="diary_title">ステージ作成</h2>
<div class="diary_body">
<p class="diary">
アクションパートのステージをまぁ作ってるわけなんですが，画像（マップチップ）の質はおいておくとして，それをどう並べるかを決めるわけですね．ここでマップエディタでも作れるスキルがあればいいんですが，それ作るだけで軽く3週間くらい消費しそうなんで，今はテキストエディタでマップチップIDをぷちぷちと打ち込んでいく作業をしてるわけなんです．まぁこれが面倒くさいのなんの．なんせ目に見えるのは16進数の羅列ですよ．んで書いて保存してゲーム起動して確認して，間違ってたら間違ってる箇所をよく覚える or メモするということをして，再びテキストエディタで修正．最初だからとりあえず今回は我慢出来ますが，次からは絶対にしたくないですね．
</p></div>
</div>
<a name="10"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-10T00:00:00 (Wed)</h2>
<h2 class="diary_title">決めた（かも</h2>
<div class="diary_body">
<p class="diary">
今まで
</p>
<p class="diary">
コンストラクタ : クラス名<br />
状態の初期化処理 : init<br />
描画 : draw<br />
更新 : renew<br />
状態の終了処理 : end<br />
デストラクタ : ~クラス名
</p>
<p class="diary">
で大きな流れを作っていました．
</p>
<p class="diary">
しかしコンストラクタで例外を発生させることの危険性を知ってから，インスタンスの構築（construct）と初期化（initialize）を分離するべきだと考え，色々と思案した結果以下の様に今後は変更することにします．今後ってのは金糸雀ランドの後ね．だから正確には「今」後じゃねぇな．いや，そんなことはどうでもいいとして…
</p>
<p class="diary">
コンストラクタ : クラス名<br />
インスタンスの初期化 : initialize<br />
状態の初期化 : start<br />
描画 : draw<br />
更新 : renew<br />
状態の終了処理 : end<br />
インスタンスの終了処理 : uninitialize<br />
デストラクタ : ~クラス名
</p>
<p class="diary">
ところで1フレームの更新処理を行う関数に renew という動詞を自分は昔っから使ってるわけなんですが，コンピュータ用語では更新は update と言う方がメジャーなんじゃないかと最近思い始めました．でも辞書を見ると update ってのはなんかニュアンスが違う気がするんですよね．上手く言えませんが (´・ω・｀)<br />
他の人がどうしてるのか結構気になります．長いものに巻かれたい小心者ですので orz
</p>
<p class="diary">
あと今日辞書見ててびっくりしたこと．initialize って動詞はコンピュータ用語としての造語だったんだね．uninitialize なんて動詞は載ってすらない．ググル先生に聞いても uninitialized なら知ってるけど…とか言われる始末．これにはほんとお姉さんビックリだ！
</p>
<p class="diary">
あとまた話題がぶっ飛ぶけどゲームのメインループは
</p>
<p class="diary">
[A]<br />
1. 初期設定<br />
2. 更新<br />
3. 終了判定（終了ならば終了処理をして1.に戻る or ループ終了）<br />
4. 描画<br />
5. 2.に戻る
</p>
<p class="diary">
じゃなくて
</p>
<p class="diary">
[B]<br />
1. 初期設定<br />
2. 描画<br />
3. 更新<br />
4. 終了判定（終了ならば終了処理をして1.に戻る or ループ終了）<br />
5. 2.に戻る
</p>
<p class="diary">
だと思うのです．ゲーム作りの入門書や解説サイトは[A]が多い（というか[B]を見たことが無い気がする）です．しかしこれは何だかおかしいことが多い．
</p>
<p class="diary">
＜例1＞<br />
[A]だと最初に 1. で位置 (x,y) に物体を設置したとして，重力加速度 g による落下が更新処理で行われるとしたら 4. の描画で表示される位置は (x, y + (vy + g)) になるんですよ？
</p>
<p class="diary">
＜例2＞<br />
256 フレームかけて，明るさを 0 から 255 まで変化させるというようなフェードインの処理を行いたいとします．ここで明るさを設定するために bright という変数があるとします．2. で行うのは更新処理なので，行うべきは bright++ でしょう．すると，1. で bright を -1 に設定しなければならなくなります．もしくは， 1. で bright に 0 を設定して，4. の描画の際に bright - 1 の明るさで描画を行うという命令にしなければならなくなります．こうすると終了判定も少し様相が変わってきますね（詳しくは書かない）．
</p>
<p class="diary">
ちなみに私は昔
</p>
<p class="diary">
[C]<br />
1. 初期設定<br />
2. 更新<br />
3. 描画<br />
4. 終了判定（終了ならば終了処理をして1.に戻る or ループ終了）<br />
5. 2.に戻る
</p>
<p class="diary">
という構造で作っていました．これはなんだか，経験不足も相まって相当へんてこなソースを書いていた記憶があります．もうプライベートメンバ変数の多さに世界が涙した，って感じ．
</p></div>
</div>
<a name="14"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-14T00:00:00 (Sun)</h2>
<h2 class="diary_title">initialize/finalize</h2>
<div class="diary_body">
<p class="diary">
mixi 日記にて initialize の反対は finalize じゃない？という意見をいただきました．そうすると uninitialize ってのは「未初期化にする」みたいな？意味じゃね？って思えてきました．てことでこれからの終了処理メソッドは finalize っすね．それにファイナライザって単語もどっかで聞いた記憶がある．自分だけで1日かけて考えた意見には全然自信が持てないけど，他人が言った一言は10分くらいで納得出来ます（的を外してない限り）．仲間ってのはこんなにも強いものなのね，羽入．
</p></div>
</div>
<a name="15"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-15T00:00:00 (Mon)</h2>
<h2 class="diary_title">もう少し…もう少しなんだ…</h2>
<div class="diary_body">
<p class="diary">
もうすぐシステムというかエンジンが完成するんだ…<br />
そしたらようやくステージの本格的な調整や敵の調整に入れる…
</p>
<p class="diary">
今だから話そう．本当はこれが5月の頭には終わってるハズだったんだ．
</p>
<p class="diary">
アホだね，救いようがないね，ほんと (・ω・)<br />
何考えてたんだろうね．うん，実は何も考えられてなかったんだろうね．<br />
よっく分かったよ．俺はアホでしたああああ！！！！ああああ！！！！
</p>
<p class="diary">
知ってるよ．ああそれにしても今日も眠い．
</p></div>
</div>
<a name="15"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-15T00:00:01 (Mon)</h2>
<h2 class="diary_title">どいつもこいつも</h2>
<div class="diary_body">
<p class="diary">
こな×かがばっかりだぁあ！！！<br />
こうなったら俺がひよりんzpを読むしかねぇッ！
</p>
<p class="diary">
咲夜，2chに，ひよりん可愛いよっつってんだろダラズ！
</p>
<p class="diary">
あなたは一体何者なのですか！？<br />
フハハハ，こーちゃん，ひよりを持て余す．
</p></div>
</div>
<a name="16"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-16T00:00:00 (Tue)</h2>
<h2 class="diary_title">拍手レス(15日)</h2>
<div class="diary_body">
<p class="diary">
<font class="clap">
18時<br />
&gt;御本業が疎かにならない程度に頑張って下さい。季節の変わり目ですので、どうかお身体にお気を付け下さい。<br />
</font>
メッセージどうもありがとうございました．<br />
ご指摘通り，学生としての本業を疎かにしないよう気をつけます．そして最近はほんと急に寒くなりましたね．夜中に寒くて目を覚ますことが増えてます．お互い風邪など引かぬように気をつけたいものですね．
</p></div>
</div>
<a name="20"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-20T00:00:00 (Sat)</h2>
<h2 class="diary_title">気付くとまきまき６まで残り一ヶ月弱</h2>
<div class="diary_body">
<p class="diary">
と言うよりさぁ，もう既に今年が残り二ヶ月だよ．思えば色んなことがあったはずなんだけど，今自分の人生において最もウェイトの大きい「ゲーム製作」が全然進歩していないから，今年一年ほとんど何もやってないような気がするよ．
</p>
<p class="diary">
でもそういうことを意識して考えてみると，この一年で自分の C++ のプログラミングスキルはアホみたいに上がった．上がった気がする，じゃなくて，間違いなく上がった．
</p>
<p class="diary">
あと動的ゲームのプログラミングスキルも基礎的な部分はかなりノウハウが固まって来た．
</p>
<p class="diary">
※動的ゲーム：<br />
ACT，STG，格ゲー，スポーツものなど，反射神経と運動神経がものを言うゲームのこと．対して，ノベルゲーや RPG のようにそれらの神経を重要視しないゲームを静的ゲームと称する…かどうかは知らない．
</p></div>
</div>
<a name="25"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-25T00:00:00 (Thu)</h2>
<h2 class="diary_title">残り丁度一ヶ月になりました</h2>
<div class="diary_body">
<p class="diary">
軽く現状を報告してみます．
</p>
<p class="diary">
当然というか何と言うか，あともうちょっとだと言っていたシステムの方がまだ完成していません．よくあることです．ダメですけどね．<br />
残りは<br />
・難易度によるステージ設定差し替え<br />
・無敵<br />
・敵動作設定スクリプトあと 1 種類（今スクリプトで出来るのは 3 種類の行動のみ）<br />
・落下と水没による死亡<br />
・ボス登場シーンの骨組み<br />
・最終ステージ専用のあれらのギミック（これは用意しなければならないのだ）<br />
・神経衰弱の作り直し（バグはまだ直ってません）<br />
システムだけでこれだけ残ってます orz　思った以上に接触処理（当たり判定と当たった後に壁に接する地点までの押し戻し処理）が難航しました．というかそれだけで3週間（ほぼ10月今まで全部）消費してます．
</p>
<p class="diary">
そしてゲームバランスや見栄えに分類される部類の作業で残っているのは<br />
・各ボスの登場時の運動とアニメーション<br />
・というか随所随所のアニメーション<br />
・残り13ステージのマップチップ配置<br />
・残り20種類くらい？の敵設定<br />
・残り15ステージ * 3つの難易度の敵配置<br />
・3つの難易度でのボスバトル<br />
・エンディング（これはもう別に無くても…（逃））<br />
そして何と言ってもドット絵関係は壊滅的です．テスト用の画像もろくに準備が終わってません．<br />
音楽や効果音も素材をダウンロードしてはあるんですが，探せてません．
</p>
<p class="diary">
あと頒布するための準備として，レーベルイラスト作成とマニュアル作成．
</p>
<p class="diary">
軽く絶望的っすね．でも頑張る．
</p></div>
</div>
<a name="28"></a>
<div class="diary">
<h2 class="diary_date_header">2007-10-28T00:00:00 (Sun)</h2>
<h2 class="diary_title">軽く現状報告 その2</h2>
<div class="diary_body">
<p class="diary">
ソースコード：13796行<br />
ファイル数：152（.h .cpp 総計）<br />
ソースサイズ：約306kB
</p>
<p class="diary">
初めて真剣に完成を目指して作ってるわけですが，どう見ても不相応な分量じゃないかと思われます (・ω・)
</p>
<p class="diary">
ちなみにソースコード行数は途中でライブラリにまとめた分も含めるともっとあります．スクリプトのコンパイラも含めたら更にある．でもDXライブラリのヘッダファイルはあれだけで1000行以上あるので含めない．
</p>
<p class="diary">
1つ失敗したなぁ，と思ったのは，Ruby でのバイナリファイルの書き込み方がよく分からなかったのでスクリプトのコンパイラも C++ で作ってしまったこと．でもお陰でバイナリファイルと整数値データをやりとりする関数は完備されたので，それは嬉しい．けど Ruby に慣れる機会をまた失ったかと思うと… orz
</p></div>
</div>
<hr>
<a href="./">戻る</a>
<hr>
</body>
</html>
