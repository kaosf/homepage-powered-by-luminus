<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="content-type" content="text/html" charset="utf-8">
<link rel="stylesheet" href="diary.css" type="text/css">
<title>2008-02</title>
</head>
<body>
<h1 class="diary_month">2008-02</h1>
<hr>
<a href="./" class="diary">戻る</a>
<hr>
<a name="01"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-01T00:00:00 (Fri)</h2>
<h2 class="diary_title">プログラミング言語経験値バトン</h2>
<div class="diary_body">
<p class="diary">
【記述方法】<br />
人気順位. 言語名<br />
(名前と概要を知っているかどうか)/(使ったことがあるかどうか)<br />
(※備考：必須項目ではない)
</p>
<p class="diary">
1. Java<br />
○／○<br />
今勉強したい言語No.1<br />
この言語ほど未来を感じるのも他にないなぁ．GC いいよ GC．
</p>
<p class="diary">
2. C<br />
○／○<br />
可能な限り使いたくない言語No.1（ぉ<br />
カプセル化なら出来るが継承や多態性となるとどうしたもんやら，ということで使えねーって感じ．
</p>
<p class="diary">
3. (Visual) Basic<br />
○／○<br />
昔ちょっとだけ使ったことあり．BASIC とは別物だと信じてる(・ω・)
</p>
<p class="diary">
4. PHP<br />
○／×<br />
HTML に埋め込んで使えるんだっけ？使ったことは実はありません orz
</p>
<p class="diary">
5. C++<br />
○／○<br />
今使っている言語No.1<br />
でもそろそろ delete を気にかけるのが嫌になってまいりました(・・;<br />
あと本当に速さや実行効率を求められるプロジェクトに使ったことがない（というか今までそんなのに触れたことすらない）のでコイツの真価を発揮させたことはないです．<br />
変態言語らしいっす．C++0x に超期待．
</p>
<p class="diary">
6. Python<br />
○／×<br />
Perl と Ruby とそしてこの言語，ってのがよく比較されてるような気がします．それだけしか知らない orz
</p>
<p class="diary">
7. Perl<br />
○／○<br />
読みにくいしクラスの仕様がちょっと気持ち悪い＞＜；；のでこれを使うくらいなら Ruby を使いますｗ
</p>
<p class="diary">
8. C#<br />
○／×<br />
そういや使ったことないｗ　ウィンドウズアプリケーションを作るときに凄くスマートらしいっすね（・・
</p>
<p class="diary">
9. Delphi<br />
○／×
</p>
<p class="diary">
10. JavaScript<br />
○／○<br />
こないだちょっと弄ったばっかりです（・・；　web ブラウザだけで動かせるって便利．
</p>
<p class="diary">
11. Ruby<br />
○／○<br />
Java に次いで未来を感じる言語．手作業ではちょっと手間のかかる処理をしたいときにいつも使ってます．つい数日前にも数十個のファイルにとある処理を施したいという要求がありまして，スクリプトを組みました．そんな風な使い捨てに向いているらしいっす．
</p>
<p class="diary">
12. PL/SQL<br />
13. SAS<br />
×／×
</p>
<p class="diary">
14. D<br />
○／○<br />
使えるといってもまだサンプルをちょっと動かした程度 orz<br />
ゲームプログラマ受けを狙っている気がします．
</p>
<p class="diary">
15. COBOL<br />
○／×
</p>
<p class="diary">
16. Lua<br />
○／×<br />
そういや結局 Lua 試してないな…
</p>
<p class="diary">
17. FoxPro/xBase<br />
18. Pascal<br />
×／×
</p>
<p class="diary">
19. Lisp/Scheme<br />
○／×
</p>
<p class="diary">
20. Logo<br />
21. ColdFusion<br />
22. ActionScript<br />
23. Ada<br />
×／×
</p>
<p class="diary">
24. Fortran<br />
○／×
</p>
<p class="diary">
25. RPG<br />
26. MATLAB<br />
27. Awk<br />
28. Prolog<br />
29. ABAP<br />
30. LabView<br />
31. Groovy<br />
32. Transact-SQL<br />
×／×
</p>
<p class="diary">
33. Smalltalk<br />
○／×<br />
D&E でよく出てくるのでｗ
</p>
<p class="diary">
34. Bash<br />
○／○<br />
プログラミング言語…？（・・；　シェルスクリプトが組めるってことなら．
</p>
<p class="diary">
35. Tcl/Tk<br />
36. Haskell<br />
37. Forth<br />
38. CL (OS/400)<br />
39. Natural<br />
40. ML<br />
41. Focus<br />
42. Ch<br />
43. PL/I<br />
44. Lingo<br />
45. Factor<br />
46. REXX<br />
×／×
</p>
<p class="diary">
47. Objective-C<br />
○／×
</p>
<p class="diary">
48. IDL<br />
49. Erlang<br />
50. VBScript<br />
×／×
</p>
<p class="diary">
カウント合計<br />
19／9
</p>
<p class="diary">
もっと細かく○と×を付けろや！という意見に関しては面倒なのでこの2項目で orz<br />
備考を書けや！という意見に関しても面倒なので（ｒｙ<br />
自分は言語に関しては基本的に誰かが使ってるのを見て面白そうだと感じてその言語を使い始める性質なので，経験値はかなり少なめですな．
</p></div>
</div>
<a name="02"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-02T00:00:00 (Sat)</h2>
<h2 class="diary_title">かしら…</h2>
<div class="diary_body">
<p class="diary">
進捗状況は，うーん，ハンバーガー4個分くらいかな？
</p>
<p class="diary">
またオブジェクトとその相互関係が爆発的に増えてまいりました(T_T　色々な状態の数もそろそろ爆発しそうです．
</p>
<p class="diary">
慣れた BCC Developer で卒業制作（BCC Developer からの卒業的な意味で）として簡単に小さなゲームを作ろうと思っていたんですが，段々大きくなってます．あー早く VS に乗り換えたいのだわ．
</p></div>
</div>
<a name="03"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-03T00:00:00 (Sun)</h2>
<h2 class="diary_title"><a href="http://gendai.net/?m=view&g=wadai&c=050&no=18240" target="_blank" class="diary">日本男児のオナニーが危ない！</a>（<a href="http://gendai.net/" target="_blank" class="diary">ゲンダイネット</a>）</h2>
<div class="diary_body">
<p class="diary">
少子化云々のことは置いておいて，やっぱりドラマティックバースト（＝セルフバーニング，自家発電）の方が気持ちいいのですね．また記事にある正しいオナニーというのもやってみようと思います．というか激しいのよりもスローセックスの方が断然いいと思うんだ（魔法使い候補がナニをほざく）．
</p></div>
</div>
<a name="03"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-03T00:00:01 (Sun)</h2>
<h2 class="diary_title"><a href="http://pya.cc/pyaimg/pimg.php?imgid=53377" target="_blank" class="diary">いつまでもいっしょだwanそうだnya</a>（<a href="http://pya.cc/" target="_blank" class="diary">pya!</a>）</h2>
<div class="diary_body">
<p class="diary">
これは…ッ！なんという癒し力… (´∀｀)
</p></div>
</div>
<a name="05"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-05T00:00:00 (Tue)</h2>
<h2 class="diary_title">ゲーム制作で気付いたこと</h2>
<div class="diary_body">
<p class="diary">
ゲームを作っていると，少なからず何らかのデータが膨大な数になる．例えば STG だと，敵のデータや，弾のデータや，ステージでどの敵をいつどこに出現させるかなどのデータが，RPG だと敵のデータやアイテムのデータやマップのデータなどだ．
</p>
<p class="diary">
これらを，いかに管理し易い形式で管理し易い場所に増やしていくかが，制作の大事な鍵となる．
</p>
<p class="diary">
そこんとこが，前回の金糸雀ランドのときは実体験として分かっていなかったんだなぁ，と感じた，イベントまで残り20日を切ったそんな日の夜(^^;
</p></div>
</div>
<a name="06"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-06T00:00:00 (Wed)</h2>
<h2 class="diary_title">C++ の素朴な疑問コーナー</h2>
<div class="diary_body">
<p class="diary">
クラスに static const なメンバ変数がいくつかあったとして，それらを初期化する際に初期化の順序は言語仕様ではどうなっているのでしょうか？
</p>
<p class="diary">
つまり，
</p>
<p class="diary">
class Test {<br />
private:<br />
　static const int x;<br />
　static const int y;<br />
　static const int xy;<br />
};
</p>
<p class="diary">
const int Test::x = 6;<br />
const int Test::y = 4;<br />
const int Test::xy = Test::x * Test::y;
</p>
<p class="diary">
というようなコードが作者の想定通りの動作をすることが言語仕様で保証されているのかどうか，ということです．
</p>
<p class="diary">
ちなみに BCC5.5.1 (Borland C++ Compiler 5.5.1) で試した結果，何をどう入れ替えても xy は 24 になりました（スゲー
</p>
<p class="diary">
…とここまで書いたところで<a href="http://www.geocities.jp/ky_webid/cpp/language/019.html" target="_blank" class="diary">こんなページ</a>を見つけてしまいましたｗ　ここの「○静的変数の初期化」という節に答えが書いてありますｗ
</p>
<p class="diary">
つまり翻訳単位をまたがなければ，宣言した順に初期化処理が評価されていく，ということですね．
</p></div>
</div>
<a name="08"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-08T00:00:00 (Fri)</h2>
<h2 class="diary_title">私の今の相棒</h2>
<div class="diary_body">
<p class="diary">
バッファローコクヨサプライの <a href="http://buffalo-kokuyo.jp/products/catalog/item/b/bkbc-j109sbk/" target="_blank" class="diary">BKBCJ109SBKA</a> と <a href="http://buffalo-kokuyo.jp/products/catalog/item/b/bkbc-j91sbk/" target="_blank" class="diary">BKBCJ91SBKA</a> です．
</p>
<p class="diary">
前者のフルキーボードの方がメインマシン（ゲーム開発に用いる Windows XP の入ったマシン）用で，後者のミニサイズの方がサブマシン（Linux と Windows 2000 の入ったマシン）用です．気分転換にノート PC でソースコードだけを書くときにもミニサイズの方を使います（なぜならノートのキーボードに壊れているキーがあるので(T_T)）．
</p>
<p class="diary">
実は前回キーボードの写真を貼り付けた日記（<a href="http://kaosf.kirara.st/log/200709.html#07" class="diary">こちら</a>）を書いたその3日後に大阪へ遊びに行った（18きっぷが余ってたのを使いに行ったのです）ときに買ったのがこれらですｗｗｗｗ　最良のキーボードが決まったかも，などという発言が相当イミフですねｗｗｗｗ　これにはあの日記を書いた本人もびっくり(^^;
</p>
<p class="diary">
色々あってパンタグラフの方がやっぱりいいなと思い直しました．新作（かしら！で頒布出来たらいいなと思っているブツ．現在進行形で製作中です．）はこちらで作っています．
</p>
<p class="diary">
んで，まぁ一応金糸雀ランド開発時に既に購入していたことにもなるんですが，そのときはまだ Logitech のキーボードの方が慣れていたのであれはそちらで作りました．…んなこたぁ，別にどうでもいいですねｗ
</p>
<p class="diary">
ちなみに，パンタグラフ式のキーボードもかなり色々と触ってきた私ですが，バッファローコクヨサプライのこれらのキーボードの打鍵には相当クオリティの高いものがあります．打鍵は静かで十分に軽いし，一部のキーだけ妙に固い・ひっかかるなどということもありません（ELECOM やサンワサプライの品によくこういうのがあった(^^;）．あくまで個人の感想ですが，静電容量無接点方式やギアドライブとも十分張り合える…というより勝る性能があると思います．
</p>
<p class="diary">
というわけで，恐らく，これは今後 2, 3 年は使い続けると思います（いや本当にｗ）．
</p></div>
</div>
<a name="09"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-09T00:00:00 (Sat)</h2>
<h2 class="diary_title">製作状況（？）</h2>
<div class="diary_body">
<p class="diary">
やばい．ちょっとずつ負の感情が入ってきた．改めて思うにやっぱり今回も単にゲームを自己満足で作ってるだけだ．人が遊んで面白いかどうかかなり怪しい．この感情はまずい．
</p>
<p class="diary">
面白いゲームを作るのに必要なのは何か？
</p>
<p class="diary">
前回の経験で必ずしも「技術力」ではないことが分かった．今回の経験で「心の余裕」なんじゃないかと思い始める．
</p></div>
</div>
<a name="09"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-09T00:00:01 (Sat)</h2>
<h2 class="diary_title">締め切り二週間前頃に発症率の高い病気</h2>
<div class="diary_body">
<p class="diary">
自分は一生面白いゲームなんて作れないんじゃないだろうかと不安になる症候群．
</p>
<p class="diary">
人によってゲームの部分を他の何かに置き換えてみてくだせぇ orz
</p></div>
</div>
<a name="13"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-13T00:00:00 (Wed)</h2>
<h2 class="diary_title">寝られん（笑）</h2>
<div class="diary_body">
<p class="diary">
風邪の症状も治まったのに昼間寝すぎて寝られんとか酷い(笑)
</p>
<p class="diary">
てことで変な空白時間が出来てしまったので，さざなみ壊変見たりまきまき7のページ見てたりしたら1時間程経過．相変わらず隙間時間に仕事を片付けるのが下手糞な人ですね orz　サークルカットでも描いてろよ…
</p>
<p class="diary">
そろそろ「かしら！」頒布用を目指して作ってるゲームのプログラムの残り分量が少なくなってまいりました．後はデータ打ち込みとバランス調整と音楽と画像…あれあれ？結構残ってる？でもそんなの関係ねぇ！某ランドはそれらを実質数日で仕上げたしね！（※「仕上げた」の部分に多分の嘘を含みます）
</p>
<p class="diary">
あとはまきまき7ネタだな…　正直某ランドみたく「かしら！」で体験版頒布してまき7で完成版…というのもアリのような気がしますが，己のためにもそれはよくないですね．もっともっと気楽にゲームを作れるようになるため，一つのゲームをなるべく早く作る修練が必要なのです．
</p>
<p class="diary">
もっと“作り上げるノウハウ”が溜まって来れば，きっと2ヶ月に1本くらいのペースででもゲームは作れるはずなんですよ，ええ．去年1年で学んだのは“ゲームプログラミングのノウハウ”です．学べなかったのが作り上げること．今年はそれを学ぶべく，とにかく多くリリースしたいのです．…まぁ金糸雀の他にひよりんとかその他もろもろのゲーム（デレトロも含む）も作ってみたいから，っていう思いがあるからでもあるんですがｗ
</p>
<p class="diary">
にしても彦二さんが「かしら！」用になんか興味深いの作ってますな…　やっぱり遊び心は大切だよね！まき7には金糸雀で脳トレでも作ってみるかしら！需要がない？ブーム終わってる？そんなの（ｒｙ<br />
てことで，まぁ脳トレかどうかはさておくとしても，絵描きさん募集します．あとすんさんを募集（音楽的な意味で）します＾＾　あとそろそろライさんに声かけてボイスの方も考えてみようかしら？
</p>
<p class="diary">
やっぱ楽しいね．うん．これだから創作サイドはやめられないぜ＞＜<br />
…これで遊んでくれた人から面白かったの声がもっと聞こえればもっといいもんだ(つ∀｀)<br />
人に楽しんでもらうとなるとほんっと急に難しくなるんだよなぁ… orz<br />
だれかエンターテイメントに自信のある人，企画立案やってみませんかー？ｗ
</p>
<p class="diary">
自分で言うのもなんですが，私はちょっと（かなり？）感覚が人とずれてるところがありまして，私が楽しいと感じるものが他多数にも受けたことって少ないんですよね．Twitter しかり．ていうか趣味がプログラミングとか数学って，もうその時点でかなり大多数から逸脱してますよね orz
</p>
<p class="diary">
さて，いい感じにちょっと長めの日記も書けたところで，学校に行ってきますかね．計算機が60台もあれば下手な暖房が効いてる部屋よりよっぽど暖かいんだ，あそこ．まあ空気悪いけど (・・;　てことで ノシ
</p></div>
</div>
<a name="19"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-19T00:00:00 (Tue)</h2>
<h2 class="diary_title">もうあとはアイデアとスピード勝負</h2>
<div class="diary_body">
<p class="diary">
かしら！当日は忠之助さんの３１０４丁目のダンスホールっていうスペースに多分居ると思います．
</p>
<p class="diary">
ノリで作った（※作ってる）「玉子焼きうめえｗｗｗｗ」っていうタイトルの，ちょっとアレ気なゲームと見せかけた単なる STG を携えてると思います．けど web でも配布しようと考えてるんで，ひょうが先生の美麗なレーベルイラストが欲しい方だけ会場でお求めくだしあ＞＜　ちなみにクオリティは残念賞になりそうなので無料にしまっす．
</p></div>
</div>
<a name="22"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-22T00:00:00 (Fri)</h2>
<h2 class="diary_title">玉子焼きうめえｗｗｗｗの体験版</h2>
<div class="diary_body">
<p class="diary">
<a href="http://kaosf.kirara.st/circle/tamagoyaki_trial.lzh" class="diary">ここ</a>から落とせます．
</p>
<p class="diary">
我ながら酷いステージや敵構成になりました．全ひょうが先生とぐにゃのドット絵が涙です．1ステージしかないのにそれが更に酷いとか，俺1年前と何も変わってない気がします orz
</p>
<p class="diary">
ほんじゃもうちょっとしたら行って来るかしらー！
</p></div>
</div>
<a name="25"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-25T00:00:00 (Mon)</h2>
<h2 class="diary_title">かしら！にまつわる遠征レポート</h2>
<div class="diary_body">
<p class="diary">
23，24日は金糸雀オンリーイベント「楽してズルしていたばしかしら！」に参加するために東京に行ってました．てことで簡単にイベントなどを交えた今回の東京遠征レポートを．
</p>
<p class="diary">
当日思った以上に早くバスが到着し，板橋に到着したのも確か7時半頃でした．もちろん会場が開いていたり人が居たりすることもなく，会場横にあったガストで時間をサモと潰すことにしました．DS で THE パーティゲームをやってやっぱりこれはクソゲーだと再認識したり，ぷよぷよフィーバーで軽く対戦したり．ちなみにサモは苦節数年，ようやく階段積みを覚えて非常に楽しそうに対戦やってました＾＾　今度また一緒にフィーバーでの戦い方も覚えましょう．
</p>
<p class="diary">
で，サークル入場．…するや否や，自分は忠ノ介さんのスペースにノート PC とゲームの CD を放置して即脱出しましたｗｗｗｗ　今回の遠征の目的の半分は同じ会場で開催されていたらき☆すたオンリーイベント陵桜祭にひよりん本を買いに行くことでもあったからです (ノ∀`)　開場後はかしら！と陵桜祭を往復して，適度に戦利品を増やしていきました．まぁひよりん本が1冊あって，珍しいあやの本も1冊手に入ったから，全60サークルしかいなかったイベントとしては良い結果だったと思います．うん，ほんと，無いときは無いんだぜ…こな×かが以外はよぅ…　ちなみに陵桜祭のカタログはヴァが前面に押し出されてまして，ひょうが先生に1冊買って帰ってあげようかと思うくらいかわいかったです．でも買わなかった辺り自分はほんとどうなんだって感じですね．あ，もしも欲しければ自分が買った分あげますんで連絡下さい！＞＜
</p>
<p class="diary">
ちなみに自分のゲームの方は見本とか渡したのとか除いて20部置いておきました．ノート PC と一緒に．すると，やはり無料の力は偉大ですね．かなり速攻で無くなりましたｗ　ひょうが先生の美麗レーベルのお陰でもあると思います．他力本願じゃないけど他力願バンザーイ ＼(^o^)／（※根性が腐っとる
</p>
<p class="diary">
あとはいろきゅう先生と再会して，金糸雀が Windows でうひょー！ってなるアプリケーションを貰ったり，なんか開発時における「V 字プロセス」のことを聞いたりしました．V 字プロセスの方はまだちょろっと調べてみただけなのでまとめられてるのかどうか分かりませんが，要するにゲーム製作にこれを当てはめると『開発用ツールを作れ，もしくは探せ』ってことになるんじゃないかと思いました．仮にそうだとしたら，とびつき読本に書いてあることにも通じますね．さっさと Windows API に慣れなければ自分の未来はやばいと思いますほんと ＼(^o^)／
</p>
<p class="diary">
そしてばるばとすさんや Yamoto さんとお知り合いに．よい変態の方々でした＞＜　大好きです，愛してます．<br />
Yamoto さん，カナを大事にしてやって下さい．通常版の右足を折ってしまった自分には限定バージョンのカナを大事にしてあげられる自信はありませんわ＞＜<br />
ばるお兄様，年齢詐称疑惑を当局で今後徹底的に調査したいと思っております．よろしくお願いします＾ワ＾<br />
謎のリレー絵本で M 氏がとても愛されているのだなあと実感しました．サモが「M 氏のビーチクは私の能力を超えている」でツボってましたｗ<br />
でも打ち上げ終了間際に Spiegel さんと挨拶程度しかお話できなかったのが心残りでした orz<br />
あと彦二さんの商業な漫画エチオピア少女パンツちゃん期待してます．
</p>
<p class="diary">
他にもあの打ち上げ会場でお話した方で，もしこちらを見ていらっしゃいましたら，気軽に拍手なりマイミク申請なり投げて下さい．マイミク追加は面識無い方以外という条件付きではありますが，外しはフリーな人ですので，お気軽にドゾー ヽ|'ω'|ノ　マイナーにマイフィル申請でもおｋしちゃうわよ？ｗ　でも今私が一番嬉しいのは Twitter で Follow してくれることかしら〜．簡単な日記みたいなのは今ほとんどあっちで書いてますし．ほんと皆でもっと Twitter やりましょうぜ！＞ワ＜
</p>
<p class="diary">
で，徹カラなどして，24日はオトメディウスやったり，そっち方面の大手にしかないようなエロ漫画を探したりしてました．なんという地元でも出来ること ／(^o^)＼　何しに東京来てるんだ．まぁいつものことですが．いいのさ，地元には案外無さそうな本も何冊か買ったから＞＜
</p>
<p class="diary">
そんな感じで，東京遠征レポートでした．関係者の皆様，本当にお疲れ様でした．またお会い出来ることがあればそのときもよろしくお願いしますね．
</p>
<p class="diary">
…ちなみにもういい加減夜行バスで東京へ行くのに飽きてきました．東京に行くこと自体にも飽きてきました．なので次に行くときこそは真面目に観光などしてやろうと半分くらい本気で考えてたりするのですが，それはまたどうでもいいお話．しばらくは遠征（オタ的な意味の）は控えて学校関連やプログラミング方面の経験・知識増強に力を入れたいと思ってます．
</p></div>
</div>
<a name="28"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-28T00:00:00 (Thu)</h2>
<h2 class="diary_title">Visual Studio</h2>
<div class="diary_body">
<p class="diary">
まず整理しよう．多分間違ってるんだけど，一応現在の自分の知識の再確認．
</p>
<p class="diary">
Microsoft の Visual Studio というものがある．これは Windows 上で動くアプリケーションの各種言語での開発ツールの集合体の名前である．この Visual Studio という集合の要素として Visual C++ や Visual Basic というものが存在する．
</p>
<p class="diary">
Visual Studio にはバージョンがある．Visual Studio 6.0，Visual Studio .NET 2003，Visual Studio 2005 などだ．それらの中にある Visual C++ や Visual Basic を Visual C++ 6.0，Visual C++ .NET 2003，Visual C++ 2005 などと呼ぶ．
</p>
<p class="diary">
なぜ「6.0 → .NET 2003 → 2005 → 2008」などと言うわけの分からんバージョン名の変遷を辿ったのかは不明．
</p>
<p class="diary">
そして，Visual Studio ○○ には更に機能で区分された Express Edition，Standard Edition，Professional Edition，Enterprise Developer，Enterprise Architect がある．
</p>
<p class="diary">
これが現在の自分の頭の中です．多分間違ってると思います．頼むから誰か指摘して下さい orz
</p></div>
</div>
<a name="29"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-29T00:00:00 (Fri)</h2>
<h2 class="diary_title">Visual C++ 2005 Express Edition での静的ライブラリの作り方</h2>
<div class="diary_body">
<p class="diary">
まず「空のプロジェクト」を作る．ライブラリのソースとなる .cpp ファイルをプロジェクトのディレクトリ内のどこかに作り，それをプロジェクトに追加．次にヘッダとなる .h または .hpp ファイルを C:\home\include\ チックな場所に作り，それをプロジェクトに追加する．これはひょっとしたら UNIX 風な作法なのかも知れないけど，こうしておくといいことあると思うよ．
</p>
<p class="diary">
そしてソースとヘッダを実際に作成する．
</p>
<p class="diary">
次に，このままビルドしても .exe なファイルを作ろうとしてしまい失敗するので，それの解決も含めてプロジェクトのプロパティを弄る．プロパティは「メニューバー > プロジェクト > （プロジェクト名）のプロパティ」で開ける．Alt + F7 というショートカットでも開ける．そして「構成プロパティ > 全般 > プロジェクトの規定値 > 構成の種類」が「アプリケーション (.exe)」になっているはずなので，これを「スタティックライブラリ (.lib)」に変更する．これでOK（※基本的には）．これでビルドするとプロジェクトのディレクトリに Debug というディレクトリが作られ，その中に目的の .lib ファイルがあるはずである．
</p>
<p class="diary">
もしも .cpp ファイルが .h ファイルをインクルードしているのならパスが通ってない（ヘッダファイルの位置がソースファイルから見て分からない）のでコンパイルに失敗する．そのときは「プロジェクトのプロパティ > 構成プロパティ > C/C++ > 全般 > 追加のインクルードディレクトリ」に「C:\home\include」を追加してやればよい．（※コマンドラインコンパイラでいうところの -I オプションです．）
</p>
<p class="diary">
以下は拘りたい人向け？とりあえず使えればいいや，って人は気にしないでいいと思います．
</p>
<p class="diary">
.lib ファイルを C:\home\lib\ チックな場所に作りたいのなら，「プロジェクトのプロパティ > 構成プロパティ > ライブラリアン > 出力ファイル」が「$(OutDir)\$(ProjectName).lib」になっているはずなのでそれを「C:\home\lib\$(ProjectName).lib」に変えてやればよい．（※ちなみに $(OutDir) や $(ProjectName) というのは所謂マクロというやつで，これが実際には出力ディレクトリの位置やプロジェクトの名前に置換される．メイクファイルのマクロと同じ．初耳だという人はまぁ変数のようなものだとでも思っていただければ．）
</p>
<p class="diary">
ちなみにこのままだと Debug と Release という2つの構成が出来てしまう．ライブラリってのは Debug コンパイルだの Release コンパイルだのを考える必要はない（多分）ので，片方を削除してしまいましょう．意味的に考えると Debug を削除かな？これにはまずプロパティのダイアログボックスの右上にある「構成マネージャ」というのをクリックして，構成マネージャのダイアログボックスを開く．そして「アクティブソリューション構成 > 編集」で Debug を削除．それと「プロジェクトのコンテキスト（ビルドまたは配置する〜〜）」というところにもある「構成」の Debug も削除．なんで2つあるのかは分からない．ひょっとしたら片方は削除する必要がないのかも知れない．でも両方消してもなんとも無かったので消しちゃいましょう．（なんといういい加減 ＼(^o^)／）
</p>
<p class="diary">
最後に，このプロパティを色々弄った状態を毎度毎度作るのは面倒です．なのでこれをテンプレート化して，今後ライブラリを作るときに同じことをしないで済むようにしたいと思います．…と，言いたいところだが…その方法がまだ分からないの．ごめんね (´・ω・｀)
</p></div>
</div>
<a name="29"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-29T00:00:01 (Fri)</h2>
<h2 class="diary_title">Visual C++ 2005 Express Edition での静的ライブラリのリンクの仕方</h2>
<div class="diary_body">
<p class="diary">
では次にそのライブラリを実際に使う方法を．ここでは C:\home\include\ に test.h を，C:\home\lib\ に test.lib を作ってあり，それを使いたいものとする．
</p>
<p class="diary">
まず，プロジェクトのプロパティを開く．「構成プロパティ > C/C++ > 全般 > 追加のインクルードディレクトリ」に C:home\lib を追加．これは先ほどやったのと同じである．これでコンパイルが出来る．ちなみに先ほど UNIX 風な手法かも知れないが…と言って C:\home\include\ にヘッダファイルを全て作ったが，こうしておくと「追加のインクルードディレクトリ」に追加するものが C:\home\include の1つで済む．多分これが gcc でも bcc でも vc でもやり易くていいと思う．
</p>
<p class="diary">
次に，「構成プロパティ > リンカ > 全般 > 追加のライブラリディレクトリ」に C:\home\lib を追加．（※コマンドラインリンカでいうところの -L オプションです．）そして「構成プロパティ > リンカ > 入力 > 追加の依存ファイル」に test.lib を追加．これでリンクもエラーなく出来て，無事 .exe ファイルの完成です．
</p></div>
</div>
<a name="29"></a>
<div class="diary">
<h2 class="diary_date_header">2008-02-29T00:00:02 (Fri)</h2>
<h2 class="diary_title">まとめ</h2>
<div class="diary_body">
<p class="diary">
自分で書いて見て改めて思ったのですが，なんちゅー面倒臭さだと(^^;　でも，多分 UNIX 風な手法を知らない初心者にとってみれば，コマンドラインコンパイラとコマンドラインリンカの使い方を覚えて，メイクファイルの書き方を覚えて，メイクファイル生成ツールをインストールしてそれの使い方を覚えるよりはよっぽど楽かと思われますｗ　…でもそれをまとめた解説サイトがどこにも見当たらない（少なくとも自分は見つけられなかった）ってのはどうなんだろう…と思いました．
</p>
<p class="diary">
あとこれはあくまでも Visual C++ 2005 Express Edition での手法です．バージョンが違えば（2008 だったりすれば）当然違ってくると思います．バージョンが変わるとダイアログボックスのデザインがガラリと変わるというのは Microsoft のアプリケーションではよくあること（だと思う）なので油断なりませんねｗ
</p>
<p class="diary">
それともう一つ重要なのがこれは「まだ Visual C++ を本格的に使おうと思い立って1週間も経ってない人間」の備忘録に近いものなので，標準的なものから逸脱した手法が使われている可能性が高いです．そこんとこよろしく．こちらとしても，より標準的な手法が見つかったらその都度修正はしていくように心がけるつもりです．
</p>
<p class="diary">
というかいずれ今までの日記で書き散らしてきたプログラミング関連のネタをまとめたページを作りたいなぁ．
</p></div>
</div>
<hr>
<a href="./">戻る</a>
<hr>
</body>
</html>
